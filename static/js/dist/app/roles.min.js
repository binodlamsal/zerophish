var labels={"In progress":"label-primary",Queued:"label-info",Completed:"label-success","Emails Sent":"label-success",Error:"label-danger"},campaigns=[],campaign={};$(document).ready(function(){$("#launch_date").datetimepicker({widgetPositioning:{vertical:"bottom"},showTodayButton:!0,defaultDate:moment()}),$("#send_by_date").datetimepicker({widgetPositioning:{vertical:"bottom"},showTodayButton:!0,useCurrent:!1}),$(".modal").on("hidden.bs.modal",function(o){$(this).removeClass("fv-modal-stack"),$("body").data("fv_open_modals",$("body").data("fv_open_modals")-1)}),$(".modal").on("shown.bs.modal",function(o){void 0===$("body").data("fv_open_modals")&&$("body").data("fv_open_modals",0),$(this).hasClass("fv-modal-stack")||($(this).addClass("fv-modal-stack"),$("body").data("fv_open_modals",$("body").data("fv_open_modals")+1),$(this).css("z-index",1040+10*$("body").data("fv_open_modals")),$(".modal-backdrop").not(".fv-modal-stack").css("z-index",1039+10*$("body").data("fv_open_modals")),$(".modal-backdrop").not("fv-modal-stack").addClass("fv-modal-stack"))}),$(document).on("hidden.bs.modal",".modal",function(){$(".modal:visible").length&&$(document.body).addClass("modal-open")}),$("#modal").on("hidden.bs.modal",function(o){dismiss()}),api.roles.get().success(function(o){console.log(o),roles=o,$("#loading").hide(),roles.length>0?($("#rolesTable").show(),peopleTable=$("#rolesTable").DataTable({columnDefs:[{orderable:!1,targets:"no-sort"}],order:[[0,"asc"]]}),$.each(roles,function(o,e){console.log(e),peopleTable.row.add([e.display_name,e.name,e.weight]).draw()})):$("#emptyMessage").show()}).error(function(){$("#loading").hide(),errorFlash("Error fetching peoples")}),$.fn.select2.defaults.set("width","100%"),$.fn.select2.defaults.set("dropdownParent",$("#modal_body")),$.fn.select2.defaults.set("theme","bootstrap"),$.fn.select2.defaults.set("sorter",function(o){return o.sort(function(o,e){return o.text.toLowerCase()>e.text.toLowerCase()?1:o.text.toLowerCase()<e.text.toLowerCase()?-1:0})})});
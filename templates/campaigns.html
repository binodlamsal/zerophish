{{define "body"}}
<section class="dashboard-wrapper">
    <div class="overlap-full"></div>
    <div class="container-fluid">
        <div class="mobile-hamburger">
            <a href="javascript:void(0)"> <i class="fa fa-bars" aria-hidden="true"></i> </a>
        </div><!-- .mobile-hamburger -->
        <div class="row">

            {{template "sidebar" .}}
            <div class="col-lg-10 main ">
                 <div id="flashes" class=""></div>
                <div class="top-page-header d-flex justify-content-between">
                    <div class="tp-page-title">
                        <h1 class="page-header">
                            Campaigns
                        </h1>
                    </div> <!-- .tp-page-title -->
                    <div class="tp-page-btn">
                        <button type="button" class="btn btn-primary flate-button" data-toggle="modal" data-backdrop="static" data-target="#modal"
                        onclick="edit('new')">
                        New Campaign  <i class="fa fa-plus"></i> </button>
                    </div> <!-- .tp-page-btn -->
                    {{if or (eq role "admin") (eq role "partner") (eq role "child_user")}}
                    <div style="display: inline-block; position: absolute; right: 0%; transform: translate(-15px, 100px)">
                        <div class="filter-section">
                           <strong>Filter: &nbsp;</strong>
                            <label class="radiobx"> 
                                <input type="radio" name="filter" value="own" id="filter-own" checked> 
                                <span class="radio-btn"><img src="images/tick.png" alt=""></span> Own &nbsp;
                            </label>
                              <label class="radiobx"> 
                                <input type="radio" name="filter" value="customers" id="filter-customers"> 
                                <span class="radio-btn"><img src="images/tick.png" alt=""></span>Customers &nbsp;
                            </label>
                        </div> <!-- filter -->
                    </div>
                    {{end}}
                </div> <!-- .top-page-header -->


                &nbsp;
                <div id="loading">
                    <i class="fa fa-spinner fa-spin fa-4x"></i>
                </div>
                <div id="emptyMessage" class="" style="display:none;">
                    <div class="alert alert-info">
                        No campaigns created yet. Let's create one!
                    </div>
                </div>
                <div class="row">
                    <div class="main-table-wrap-div">
                    <table id="campaignTable" class="table" style="display:none;">
                        <thead>
                            <tr>
                                <th> <span class="for-des"><i class="fa fa-file-text-o"></i> </span> Name</th>
                                <th> <span class="for-des"><i class="fa fa-file-text-o"></i> </span> Creator</th>
                                <th> <span class="for-des"><i class="fa fa-calendar-o"></i> </span> Created Date</th>
                                <th> <span class="for-des"><i class="fa fa-empire"></i> </span> Status</th>
                                <th class="no-sort"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
                </div>
            </div>
            <!-- Modal -->
            <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="dismiss()">
                                <span aria-hidden="true"><img src="images/close.png" alt=""></span>
                            </button>
                            <h4 class="modal-title" id="campaignModalLabel">New Campaign</h4>
                        </div>
                        <div class="modal-body" id="modal_body">
                            <div class="" id="modal.flashes"></div>
                            <div class="form-group">
                                <label for="name">Name:</label>
                                <input type="text" class="form-control" id="name" placeholder="Campaign name" autofocus>
                            </div> <!-- -->
                            <div class="form-group">
                                <label class="control-label" for="template">Email Template:</label>
                                <select class="form-control" placeholder="Template Name" id="template" />
                                <option></option>
                            </select>
                        </div> <!-- .form-group -->
                        <div class="form-group">
                            <label class="control-label" for="page">Landing Page:</label>
                            <select class="form-control" placeholder="Landing Page" id="page" />
                            <option></option>
                        </select>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label" for="url">Launch Date </label>
                                <input type="text" class="form-control" id="launch_date" />
                            </div> <!-- form -->
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label" for="delay">Send Emails By (Optional)
                                    <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="If specified, Gophish will send emails evenly between the campaign launch and this date."></i>
                                </label>
                                <input type="text" class="form-control" id="send_by_date" />
                            </div> <!-- .form-group -->
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            Business Hours
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label" for="url">Start Time </label>
                                <input type="text" class="form-control" id="start_time" />
                            </div> <!-- .form-group -->
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label" for="url">End Time </label>
                                <input type="text" class="form-control" id="end_time" />
                            </div><!-- .form-group -->
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label" for="url">Time Zone </label>
                                <select type="text" class="form-control" id="time_zone" >
                                    <option val="" disabled selected>Select Timezone</option>
                                </select>
                            </div> <!-- .form-group -->
                        </div>
                    </div> <!-- .col -->
                    <div class="form-group">
                        <label class="control-label" for="profile">Sending Domain:</label>
                        <div class="input-group sending-wrap">
                            <select class="form-control" placeholder="Sending Profile" id="profile" />
                            <option></option>
                        </select>
                        <span class="input-group-btn">
                            <button type="button" data-toggle="modal" data-backdrop="static" data-target="#sendTestEmailModal"
                            class="btn btn-primary button">
                            <i class="fa fa-envelope"></i> Send Test Email</button>
                        </span>
                    </div>
                </div>
                <label class="control-label" for="users">Groups:</label>
                <select class="form-control" id="users" multiple="multiple"></select>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" onclick="dismiss()">Close</button>
                <button type="button" id="launchButton" class="btn btn-primary" onclick="launch()">
                    <i class="fa fa-rocket"></i> Launch Campaign</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Send Test Email Modal -->
<div class="modal" id="sendTestEmailModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!-- New Email Modal -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><img src="images/close.png" alt=""></span>
                </button>
                <h4 class="modal-title" id="sendTestEmailModalTitle">Send Test Email</h4>
            </div>
            <div class="modal-body">
                <div class="" id="sendTestEmailModal.flashes"></div>
                <div class="row">
                    <div class="col-sm-12">
                        <label class="control-label" for="to">Send Test Email to:</label>
                    </div>
                    <br>
                    <div class="col-sm-2">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="First Name" name="to_first_name">
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Last Name" name="to_last_name">
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Email" name="to_email" required>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" placeholder="Position" name="to_position">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn btn-default">Cancel</button>
                <button type="button" class="btn btn-primary" id="sendTestModalSubmit" onclick="sendTestEmail()">
                    <i class="fa fa-envelope"></i> Send</button>
                </div>
            </div>
        </div>
    </div>
</div> <!-- col-xs-9 -->
</div>
</div> <!-- container-fluid -->
</section>
{{end}} {{define "scripts"}}
<script src="/js/dist/app/campaigns.min.js"></script>
{{end}}
